<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Registro de Compras</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
  <link href="{{ url_for('static',filename='css/style.css') }}" rel="stylesheet" type="text/css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="/">
      <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Mi Marca" style="height: 40px;">
    </a>
    <div class="navbar-nav">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="/">Ventas</a></li>
        <li class="nav-item"><a class="nav-link" href="/cobranzas">Cobranzas</a></li>
        <li class="nav-item active"><a class="nav-link" href="/compras">Compras <span class="sr-only">(current)</span></a></li>
      </ul>
    </div>
  </nav>

  <div class="container mt-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
      <script>
        Swal.fire({
          title: "{{ category.title() }}",
          text: "{{ message }}",
          icon: "{{ category }}" == "danger" ? "error" : "{{ category }}"
        })
      </script>
      {% endfor %}
    {% endif %}
    {% endwith %}

    <h1 class="mb-4">Registro de Compras</h1>

    <form action="/compras" method="post" class="border p-4 rounded shadow-sm">
      <div class="form-group">
        <label>Fecha</label>
        <input type="date" class="form-control" name="fecha" required>
      </div>
      <div class="form-group">
        <label>Proveedor</label>
        <input type="text" class="form-control" name="proveedor" required>
      </div>
      <div class="form-group">
        <label>Tipo de Documento</label>
        <select class="form-control" name="tipo_de_documento" required>
          <option value="Factura">Factura</option>
          <option value="Boleta">Boleta</option>
          <option value="Nota de Pedido">Nota de Pedido</option>
        </select>
      </div>
      <div class="form-group">
        <label>N° de Documento</label>
        <input type="text" class="form-control" name="numero_documento" required>
      </div>
      <div class="form-group">
        <label>Producto</label>
        <input type="text" class="form-control" name="producto" required>
      </div>
      <div class="form-group">
        <label>Cantidad</label>
        <input type="number" class="form-control" name="cantidad" min="1" required>
      </div>
      <div class="form-group">
        <label>Precio Unitario</label>
        <input type="number" step="0.01" class="form-control" name="precio_unitario" required>
      </div>
      <div class="form-group">
        <label>Medio de Pago</label>
        <select class="form-control" name="medio_pago" required>
          <option value="Efectivo">Efectivo</option>
          <option value="Transferencia">Transferencia</option>
          <option value="Yape/Plin">Yape/Plin</option>
          <option value="Crédito">Crédito</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Registrar Compra</button>
    </form>
  </div>
</body>
</html>
